<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generatore Prompt per Poste Italiane</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease-in-out;
        }
        .btn-primary {
            background-color: #007bff;
            color: white;
            font-weight: 600;
            border-radius: 8px;
            padding: 12px 24px;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        .input-field, .textarea-field {
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 10px 12px;
            width: 100%;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .input-field:focus, .textarea-field:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
        }
        .prompt-output {
            background-color: #1e293b;
            color: #f8fafc;
            border-radius: 8px;
            padding: 16px;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            position: relative;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div class="max-w-4xl mx-auto">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Generatore di Prompt</h1>
            <p class="text-lg text-gray-600 mt-2">Crea prompt per i copy social di Poste Italiane da usare in Gemini.</p>
        </header>

        <div class="card p-6 sm:p-8 space-y-8">
            <!-- News Input Sections -->
            <div id="news-container" class="space-y-6">
                <!-- News 1 -->
                <div class="border border-gray-200 p-5 rounded-lg">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">News 1</h2>
                    <div class="space-y-4">
                        <div>
                            <label for="newsText1" class="block text-sm font-medium text-gray-700 mb-1">Testo della notizia</label>
                            <textarea id="newsText1" rows="6" class="textarea-field" placeholder="Incolla qui l'articolo, il comunicato stampa o una sintesi..."></textarea>
                        </div>
                        <div>
                            <label for="videoFile1" class="block text-sm font-medium text-gray-700 mb-1">Riferimento file video (opzionale)</label>
                            <input type="text" id="videoFile1" class="input-field" placeholder="Es: video_inclusione.mp4">
                        </div>
                        <div>
                            <label for="specs1" class="block text-sm font-medium text-gray-700 mb-1">Specifiche aggiuntive (opzionale)</label>
                            <textarea id="specs1" rows="2" class="textarea-field" placeholder="Es: Enfatizzare il ruolo dei giovani..."></textarea>
                        </div>
                    </div>
                </div>
                <!-- News 2 -->
                <div class="border border-gray-200 p-5 rounded-lg">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">News 2</h2>
                     <div class="space-y-4">
                        <div>
                            <label for="newsText2" class="block text-sm font-medium text-gray-700 mb-1">Testo della notizia</label>
                            <textarea id="newsText2" rows="6" class="textarea-field" placeholder="Incolla qui l'articolo, il comunicato stampa o una sintesi..."></textarea>
                        </div>
                        <div>
                            <label for="videoFile2" class="block text-sm font-medium text-gray-700 mb-1">Riferimento file video (opzionale)</label>
                            <input type="text" id="videoFile2" class="input-field" placeholder="Es: video_premiazione.mp4">
                        </div>
                        <div>
                            <label for="specs2" class="block text-sm font-medium text-gray-700 mb-1">Specifiche aggiuntive (opzionale)</label>
                            <textarea id="specs2" rows="2" class="textarea-field" placeholder="Es: Includere un ringraziamento all'associazione..."></textarea>
                        </div>
                    </div>
                </div>
                <!-- News 3 -->
                <div class="border border-gray-200 p-5 rounded-lg">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">News 3</h2>
                     <div class="space-y-4">
                        <div>
                            <label for="newsText3" class="block text-sm font-medium text-gray-700 mb-1">Testo della notizia</label>
                            <textarea id="newsText3" rows="6" class="textarea-field" placeholder="Incolla qui l'articolo, il comunicato stampa o una sintesi..."></textarea>
                        </div>
                        <div>
                            <label for="videoFile3" class="block text-sm font-medium text-gray-700 mb-1">Riferimento file video (opzionale)</label>
                            <input type="text" id="videoFile3" class="input-field" placeholder="Es: video_giornata_mondiale.mp4">
                        </div>
                        <div>
                            <label for="specs3" class="block text-sm font-medium text-gray-700 mb-1">Specifiche aggiuntive (opzionale)</label>
                            <textarea id="specs3" rows="2" class="textarea-field" placeholder="Es: Citare la data di fondazione dell'Unione Postale Universale..."></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center pt-4">
                <button id="generateBtn" class="btn-primary text-lg">Genera Prompt</button>
            </div>
        </div>

        <!-- Output Section -->
        <div id="output-section" class="card p-6 sm:p-8 mt-8 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Prompt Generato</h2>
            <div class="prompt-output">
                <button id="copyBtn" class="absolute top-3 right-3 bg-gray-600 hover:bg-gray-500 text-white text-xs font-semibold py-1 px-2 rounded-md">Copia</button>
                <code id="prompt-result"></code>
            </div>
        </div>

    </div>

    <script>
        document.getElementById('generateBtn').addEventListener('click', () => {
            let newsCount = 0;
            let newsContent = "";
            let columnHeaders = [];

            for (let i = 1; i <= 3; i++) {
                const text = document.getElementById(`newsText${i}`).value.trim();
                const video = document.getElementById(`videoFile${i}`).value.trim();
                const specs = document.getElementById(`specs${i}`).value.trim();

                if (text) {
                    newsCount++;
                    columnHeaders.push(`"News ${newsCount}"`);
                    newsContent += `
---
**NEWS ${newsCount}**
**Testo:**
${text}
`;
                    if (video) {
                        newsContent += `\n**Riferimento video:**\n${video}\n`;
                    }
                    if (specs) {
                        newsContent += `\n**Specifiche aggiuntive:**\n${specs}\n`;
                    }
                     newsContent += `---`;
                }
            }
            
            if (newsCount === 0) {
                alert("Inserisci almeno una notizia per generare il prompt.");
                return;
            }

            const finalPrompt = `Mi occorre aiuto a preparare dei Copy per i canali social di Poste Italiane partendo dalle informazioni riportate di seguito.

**INFORMAZIONI SULLE NOTIZIE:**
${newsContent}

**DIRETTIVE DI STILE E TONO:**
* **Tono di voce:** Chiaro e istituzionale, senza enfasi e senza eccessi di emoticons, hashtag o punti esclamativi.
* **Stile:** Semplice ed informativo, non pubblicitario. Non dare del tu al lettore, ma crea una news.
* **Brand:** Parla a nome di Poste Italiane, semplificando in "Poste" se necessario.
* **Contesto:** Il copy si associa a un servizio giornalistico video del TG Poste.
* **Citazioni:** Se sono presenti virgolettati (citazioni fra virgolette) di Giuseppe Lasco o di Matteo del Fante, inseriscili fedelmente senza modifiche nella parte finale del copy per Facebook/Linkedin, attribuendoli con nome e carica (es. Matteo Del Fante, Amministratore Delegato di Poste Italiane).

**REQUISITI DI LUNGHEZZA PER OGNI NEWS:**
1.  **Testo per whatsapp ->** lunghezza circa 90 caratteri
2.  **Titolo per Youtube ->** lunghezza massima 49 caratteri (evitare piÃ¹ possibile ripetizioni rispetto a whatsapp)
3.  **Testo per Facebook e per Linkedin ->** Nei limiti del possibile, pur effettuando una sintesi di testi lunghi, riproduci fedelmente il testo fornito riducendo al massimo l'inserimento di espressioni creative. Come lunghezza non ci sono limitazioni particolari: meglio essere sintetici, ma non telegrafici. Aggiungere qualche hastag pertinente.

**FORMATO DI OUTPUT (MOLTO IMPORTANTE):**
L'output finale deve essere unicamente un blocco di testo in formato CSV, senza alcuna spiegazione o introduzione. Il CSV deve essere strutturato come segue:

* **Delimitatore:** Virgola (,).
* **Qualificatore di testo:** Doppie virgolette (") per tutti i campi di testo.
* **Struttura:**
    * La prima riga (intestazione di colonna) deve essere: ,${columnHeaders.join(',')}
    * Le righe successive devono avere i seguenti titoli nella prima colonna, seguiti dai contenuti generati per ciascuna news:
        * "Testo descrittivo news Canale WA"
        * "Titolo YouTube"
        * "Copy post e descrizione YT"
        * "Link YouTube"
        * "Link TG Poste"
* **Contenuto:**
    * Popola le celle con i testi generati secondo le direttive di stile e lunghezza.
    * Le righe "Link YouTube" e "Link TG Poste" devono contenere campi vuoti (es. "").

**Esempio di output CSV per due notizie:**
,"News 1","News 2"
"Testo descrittivo news Canale WA","Testo generato per WA news 1","Testo generato per WA news 2"
"Titolo YouTube","Titolo generato per YT news 1","Testo generato per YT news 2"
"Copy post e descrizione YT","Testo generato per FB/LI news 1","Testo generato per FB/LI news 2"
"Link YouTube","",""
"Link TG Poste","",""

Genera solo il codice CSV.`;

            document.getElementById('prompt-result').textContent = finalPrompt;
            document.getElementById('output-section').classList.remove('hidden');
            
            // Scroll to the output section
            document.getElementById('output-section').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('copyBtn').addEventListener('click', () => {
            const promptText = document.getElementById('prompt-result').textContent;
            // Using document.execCommand as a fallback for iframe environments where navigator.clipboard might be restricted.
            const textArea = document.createElement("textarea");
            textArea.value = promptText;
            textArea.style.position = "fixed"; //avoid scrolling to bottom
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                const copyButton = document.getElementById('copyBtn');
                copyButton.textContent = 'Copiato!';
                setTimeout(() => {
                    copyButton.textContent = 'Copia';
                }, 2000);
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
            document.body.removeChild(textArea);
        });
    </script>
</body>
</html>
